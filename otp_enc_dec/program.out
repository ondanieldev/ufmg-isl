#! /usr/share/iverilog-0.9.7/bin/vvp
:ivl_version "0.9.7 " "(v0_9_6)";
:vpi_time_precision - 10;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_0x1e9e2f0 .scope module, "otp_enc_dec_tb" "otp_enc_dec_tb" 2 3;
 .timescale -9 -10;
P_0x1ea05c8 .param/l "LFSR_SIZE" 2 5, +C4<01000>;
P_0x1ea05f0 .param/l "MSG_SIZE" 2 5, +C4<01101000>;
v0x1eba550_0 .var "clk", 0 0;
v0x1eba5f0_0 .var "dec_msg", 103 0;
v0x1eba670_0 .var "enc_msg", 103 0;
v0x1eba710_0 .var/i "i", 31 0;
v0x1eba7c0_0 .net "key_digit", 0 0, v0x1eb9b60_0; 1 drivers
v0x1eba870_0 .var "key_seed", 7 0;
v0x1eba8f0_0 .var "s0", 0 0;
v0x1eba9a0_0 .var "s1", 0 0;
S_0x1eba460 .scope task, "decode" "decode" 2 83, 2 83, S_0x1e9e2f0;
 .timescale -9 -10;
TD_otp_enc_dec_tb.decode ;
    %movi 8, 103, 32;
    %set/v v0x1eba710_0, 8, 32;
T_0.0 ;
    %load/v 8, v0x1eba710_0, 32;
    %cmp/s 0, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_0.1, 5;
    %delay 200, 0;
    %ix/getv/s 1, v0x1eba710_0;
    %jmp/1 T_0.2, 4;
    %load/x1p 8, v0x1eba670_0, 1;
    %jmp T_0.3;
T_0.2 ;
    %mov 8, 2, 1;
T_0.3 ;
; Save base=8 wid=1 in lookaside.
    %load/v 9, v0x1eba7c0_0, 1;
    %xor 8, 9, 1;
    %ix/getv/s 0, v0x1eba710_0;
    %jmp/1 t_0, 4;
    %set/x0 v0x1eba5f0_0, 8, 1;
t_0 ;
    %load/v 8, v0x1eba710_0, 32;
    %subi 8, 1, 32;
    %set/v v0x1eba710_0, 8, 32;
    %jmp T_0.0;
T_0.1 ;
    %end;
S_0x1eba2b0 .scope task, "encode" "encode" 2 73, 2 73, S_0x1e9e2f0;
 .timescale -9 -10;
v0x1eba3a0_0 .var "msg", 103 0;
TD_otp_enc_dec_tb.encode ;
    %movi 8, 103, 32;
    %set/v v0x1eba710_0, 8, 32;
T_1.4 ;
    %load/v 8, v0x1eba710_0, 32;
    %cmp/s 0, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_1.5, 5;
    %delay 200, 0;
    %ix/getv/s 1, v0x1eba710_0;
    %jmp/1 T_1.6, 4;
    %load/x1p 8, v0x1eba3a0_0, 1;
    %jmp T_1.7;
T_1.6 ;
    %mov 8, 2, 1;
T_1.7 ;
; Save base=8 wid=1 in lookaside.
    %load/v 9, v0x1eba7c0_0, 1;
    %xor 8, 9, 1;
    %ix/getv/s 0, v0x1eba710_0;
    %jmp/1 t_1, 4;
    %set/x0 v0x1eba670_0, 8, 1;
t_1 ;
    %load/v 8, v0x1eba710_0, 32;
    %subi 8, 1, 32;
    %set/v v0x1eba710_0, 8, 32;
    %jmp T_1.4;
T_1.5 ;
    %end;
S_0x1eba100 .scope task, "generate_key" "generate_key" 2 62, 2 62, S_0x1e9e2f0;
 .timescale -9 -10;
v0x1eba1f0_0 .var "seed", 7 0;
TD_otp_enc_dec_tb.generate_key ;
    %set/v v0x1eba8f0_0, 1, 1;
    %set/v v0x1eba9a0_0, 1, 1;
    %load/v 8, v0x1eba1f0_0, 8;
    %set/v v0x1eba870_0, 8, 8;
    %delay 200, 0;
    %set/v v0x1eba8f0_0, 0, 1;
    %end;
S_0x1eba010 .scope task, "set_clock" "set_clock" 2 55, 2 55, S_0x1e9e2f0;
 .timescale -9 -10;
TD_otp_enc_dec_tb.set_clock ;
    %set/v v0x1eba550_0, 0, 1;
    %end;
S_0x1eb9f20 .scope task, "set_epwave" "set_epwave" 2 47, 2 47, S_0x1e9e2f0;
 .timescale -9 -10;
TD_otp_enc_dec_tb.set_epwave ;
    %vpi_call 2 49 "$dumpfile", "dump.vcd";
    %vpi_call 2 50 "$dumpvars";
    %end;
S_0x1eb9e30 .scope task, "show_result" "show_result" 2 93, 2 93, S_0x1e9e2f0;
 .timescale -9 -10;
TD_otp_enc_dec_tb.show_result ;
    %vpi_call 2 95 "$display", "\012Encoded message:\011%s", v0x1eba670_0;
    %vpi_call 2 96 "$display", "Decoded message:\011%s", v0x1eba5f0_0;
    %end;
S_0x1e9e3e0 .scope module, "lfsr" "lfsr_8bit" 2 17, 3 10, S_0x1e9e2f0;
 .timescale 0 0;
P_0x1e9e4d8 .param/l "LEAST_SIGNIFICANT" 3 20, +C4<0>;
P_0x1e9e500 .param/l "LFSR_SIZE" 3 20, +C4<01000>;
P_0x1e9e528 .param/l "MAX" 3 20, C4<11111111>;
P_0x1e9e550 .param/l "MOST_SIGNIFICANT" 3 20, +C4<0111>;
L_0x1eb9a40 .functor XOR 1, L_0x1ebaa50, L_0x1ebab50, C4<0>, C4<0>;
L_0x1ebaf10 .functor XOR 1, L_0x1ebad10, L_0x1ebadb0, C4<0>, C4<0>;
v0x1e8b730_0 .net *"_s1", 0 0, L_0x1ebaa50; 1 drivers
v0x1eb9420_0 .net *"_s3", 0 0, L_0x1ebab50; 1 drivers
v0x1eb94c0_0 .net *"_s7", 0 0, L_0x1ebad10; 1 drivers
v0x1eb9560_0 .net *"_s9", 0 0, L_0x1ebadb0; 1 drivers
v0x1eb9610_0 .net "clear", 0 0, C4<z>; 0 drivers
v0x1eb96b0_0 .net "clk", 0 0, v0x1eba550_0; 1 drivers
v0x1eb9790_0 .net "in", 7 0, v0x1eba870_0; 1 drivers
v0x1eb9830_0 .net "l_in", 0 0, L_0x1eb9a40; 1 drivers
v0x1eb9920_0 .var "l_out", 0 0;
v0x1eb99c0_0 .var "out", 7 0;
v0x1eb9ac0_0 .net "r_in", 0 0, L_0x1ebaf10; 1 drivers
v0x1eb9b60_0 .var "r_out", 0 0;
v0x1eb9c70_0 .net "s0", 0 0, v0x1eba8f0_0; 1 drivers
v0x1eb9d10_0 .net "s1", 0 0, v0x1eba9a0_0; 1 drivers
E_0x1e8ba70 .event posedge, v0x1eb96b0_0;
L_0x1ebaa50 .part v0x1eb99c0_0, 0, 1;
L_0x1ebab50 .part v0x1eb99c0_0, 1, 1;
L_0x1ebad10 .part v0x1eb99c0_0, 7, 1;
L_0x1ebadb0 .part v0x1eb99c0_0, 6, 1;
    .scope S_0x1e9e3e0;
T_6 ;
    %wait E_0x1e8ba70;
    %load/v 8, v0x1eb9610_0, 1;
    %jmp/0xz  T_6.0, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v0x1eb99c0_0, 0, 1;
    %jmp T_6.1;
T_6.0 ;
    %load/v 8, v0x1eb9c70_0, 1;
    %load/v 9, v0x1eb9d10_0, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_6.2, 8;
    %ix/load 1, 7, 0;
    %mov 4, 0, 1;
    %jmp/1 T_6.4, 4;
    %load/x1p 8, v0x1eb9790_0, 1;
    %jmp T_6.5;
T_6.4 ;
    %mov 8, 2, 1;
T_6.5 ;
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x1eb9920_0, 0, 8;
    %load/v 8, v0x1eb9790_0, 1; Only need 1 of 8 bits
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x1eb9b60_0, 0, 8;
    %load/v 8, v0x1eb9790_0, 8;
    %ix/load 0, 8, 0;
    %assign/v0 v0x1eb99c0_0, 0, 8;
    %jmp T_6.3;
T_6.2 ;
    %load/v 8, v0x1eb9c70_0, 1;
    %load/v 9, v0x1eb9d10_0, 1;
    %inv 9, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_6.6, 8;
    %ix/load 1, 7, 0;
    %mov 4, 0, 1;
    %jmp/1 T_6.8, 4;
    %load/x1p 8, v0x1eb99c0_0, 1;
    %jmp T_6.9;
T_6.8 ;
    %mov 8, 2, 1;
T_6.9 ;
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x1eb9920_0, 0, 8;
    %load/v 8, v0x1eb9ac0_0, 1;
    %load/v 9, v0x1eb99c0_0, 7; Select 7 out of 8 bits
    %ix/load 0, 8, 0;
    %assign/v0 v0x1eb99c0_0, 0, 8;
    %jmp T_6.7;
T_6.6 ;
    %load/v 8, v0x1eb9c70_0, 1;
    %inv 8, 1;
    %load/v 9, v0x1eb9d10_0, 1;
    %and 8, 9, 1;
    %jmp/0xz  T_6.10, 8;
    %load/v 8, v0x1eb99c0_0, 1; Only need 1 of 8 bits
; Save base=8 wid=1 in lookaside.
    %ix/load 0, 1, 0;
    %assign/v0 v0x1eb9b60_0, 0, 8;
    %ix/load 1, 1, 0;
    %mov 4, 0, 1;
    %jmp/1 T_6.12, 4;
    %load/x1p 16, v0x1eb99c0_0, 7;
    %jmp T_6.13;
T_6.12 ;
    %mov 16, 2, 7;
T_6.13 ;
    %mov 8, 16, 7; Move signal select into place
    %load/v 15, v0x1eb9830_0, 1;
    %ix/load 0, 8, 0;
    %assign/v0 v0x1eb99c0_0, 0, 8;
T_6.10 ;
T_6.7 ;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x1e9e2f0;
T_7 ;
    %delay 100, 0;
    %load/v 8, v0x1eba550_0, 1;
    %inv 8, 1;
    %set/v v0x1eba550_0, 8, 1;
    %jmp T_7;
    .thread T_7;
    .scope S_0x1e9e2f0;
T_8 ;
    %fork TD_otp_enc_dec_tb.set_epwave, S_0x1eb9f20;
    %join;
    %fork TD_otp_enc_dec_tb.set_clock, S_0x1eba010;
    %join;
    %set/v v0x1eba1f0_0, 1, 8;
    %fork TD_otp_enc_dec_tb.generate_key, S_0x1eba100;
    %join;
    %movi 8, 1919706145, 32;
    %movi 40, 740317039, 32;
    %movi 72, 1701604463, 32;
    %movi 104, 72, 8;
    %set/v v0x1eba3a0_0, 8, 104;
    %fork TD_otp_enc_dec_tb.encode, S_0x1eba2b0;
    %join;
    %set/v v0x1eba1f0_0, 1, 8;
    %fork TD_otp_enc_dec_tb.generate_key, S_0x1eba100;
    %join;
    %fork TD_otp_enc_dec_tb.decode, S_0x1eba460;
    %join;
    %fork TD_otp_enc_dec_tb.show_result, S_0x1eb9e30;
    %join;
    %movi 8, 170, 8;
    %set/v v0x1eba1f0_0, 8, 8;
    %fork TD_otp_enc_dec_tb.generate_key, S_0x1eba100;
    %join;
    %movi 8, 1769152801, 32;
    %movi 40, 544129971, 32;
    %movi 72, 1210082664, 32;
    %movi 104, 66, 8;
    %set/v v0x1eba3a0_0, 8, 104;
    %fork TD_otp_enc_dec_tb.encode, S_0x1eba2b0;
    %join;
    %movi 8, 170, 8;
    %set/v v0x1eba1f0_0, 8, 8;
    %fork TD_otp_enc_dec_tb.generate_key, S_0x1eba100;
    %join;
    %fork TD_otp_enc_dec_tb.decode, S_0x1eba460;
    %join;
    %fork TD_otp_enc_dec_tb.show_result, S_0x1eb9e30;
    %join;
    %vpi_call 2 43 "$finish";
    %end;
    .thread T_8;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "testbench.sv";
    "design.sv";
